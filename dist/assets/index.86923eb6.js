import{_ as q,r as z,a as D,o as n,c as l,b as r,d,u as i,e as Q,f as _,k as R,i as o,F as m,g as v,h as L,m as N,q as T,t as u,l as U,p as F,j as M}from"./index.7dbf11ab.js";import{S as j}from"./help.088b247f.js";import{G as E,a as H,b as A}from"./index.014ecec4.js";import{P as J}from"./PopSearch.b60e83bf.js";import"./moment.17f8281e.js";import"./request.869d566e.js";import"./index.02745042.js";import"./Empty.980eecc3.js";/* empty css                                                          */import"./lodash.e3e97856.js";const x=p=>(F("data-v-75d3a41f"),p=p(),M(),p),K={id:"s-home"},O={class:"header"},W=["src"],X={class:"noticeBar"},Y={class:"left-icon"},Z={class:"shopList"},ee=["onClick"],te={class:"market_top"},se={key:0,class:"status"},ae=x(()=>o("div",null,"\u9996\u53D1",-1)),oe=x(()=>o("div",null,"\u552E\u7F44",-1)),ne=[ae,oe],ie=["src"],re={class:"market_title"},ce={class:"flex-between"},le={class:"market_price price-c"},de={class:"market_stock"},_e={setup(p){const f=Q();let s=z({banners:[],search:"",list:[],noticeList:[],userInfo:null,loading:!1,finished:!1,refreshing:!1,listQuery:{page:1,limit:10},SearchShow:!1});D(()=>{P(),B(),g(),b()});const C=()=>{s.isLoading=!0,g()},P=async()=>{try{const e=await E({action:"GetIndexBanners"});if(e.code!=0)return!1;s.banners=e.data}catch(a){console.log(a)}},g=async()=>{try{let a={pageNo:s.listQuery.page,pageSize:s.listQuery.limit,action:"GetProductList"};const e=await H(a);if(s.isLoading=!1,e.code!=0)return!1;s.list=e.data}catch{s.isLoading=!1}},b=async()=>{try{const e=await A({action:"GetNoticeList",pageNo:"1",pageSize:"10"});e.code==0&&(s.noticeList=e.data)}catch(a){console.log(a)}},B=async()=>{let a=await j({type:"L",data:{action:"review",name:"UserInfo"}});s.userInfo=a},y=(a,e)=>{let c={path:"",query:{}};a=="more"?c.path="/notice-list":a=="single"&&(c.path="/notice",c.query.id=e),f.push(c)},G=async a=>{f.push({path:"/consignment",query:{id:a,type:"GetProductInfoV2"}})};return(a,e)=>{const c=_("van-search"),w=_("van-swipe-item"),k=_("van-swipe"),S=_("van-icon"),V=_("van-pull-refresh"),I=R("lazy");return n(),l("div",K,[r(V,{style:{height:"100%"},modelValue:i(s).isLoading,"onUpdate:modelValue":e[2]||(e[2]=t=>i(s).isLoading=t),onRefresh:C},{default:d(()=>[r(c,{value:"{{ state.search }}",placeholder:"\u641C\u7D22\u5546\u54C1\u3001\u85CF\u54C1\u3001\u4E13\u8F91",onClick:e[0]||(e[0]=t=>i(s).SearchShow=!0),disabled:""}),o("div",O,[r(k,{class:"my-swipe",autoplay:3e3,touchable:!0,"indicator-color":"white"},{default:d(()=>[(n(!0),l(m,null,v(i(s).banners,t=>(n(),L(w,null,{default:d(()=>[N(o("img",{src:t.Image,alt:""},null,8,W),[[I,t.Image]])]),_:2},1024))),256))]),_:1})]),o("div",X,[o("div",Y,[r(S,{name:"volume-o"})]),r(k,{class:"notice-swipe",autoplay:3e3,vertical:"","show-indicators":!1},{default:d(()=>[(n(!0),l(m,null,v(i(s).noticeList,(t,h)=>(n(),L(w,{key:h,onClick:$=>y("single",t.Id)},{default:d(()=>[T(u(t.Title||"-"),1)]),_:2},1032,["onClick"]))),128))]),_:1}),o("div",{class:"right-icon",onClick:e[1]||(e[1]=t=>y("more"))},[r(S,{name:"wap-nav"})])]),o("div",Z,[(n(!0),l(m,null,v(i(s).list,(t,h)=>(n(),l("div",{class:"market_item",key:h,onClick:$=>G(t.ProductId)},[o("div",te,[t.IsHasStock?U("",!0):(n(),l("div",se,ne)),N(o("img",{src:t.ProductImage,alt:""},null,8,ie),[[I,t.ProductImage]])]),o("div",re,u(t.ProductName),1),o("div",ce,[o("span",le,"\xA5"+u(t.SalePrice),1),o("span",de,"\u5269\u4F59"+u(t.NftMintNum)+"\u4EF6",1)])],8,ee))),128))])]),_:1},8,["modelValue"]),r(J,{show:i(s).SearchShow,onCancel:e[3]||(e[3]=t=>i(s).SearchShow=!1)},null,8,["show"])])}}};var Se=q(_e,[["__scopeId","data-v-75d3a41f"]]);export{Se as default};
