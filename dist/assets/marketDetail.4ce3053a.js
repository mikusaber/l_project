import{_ as k,r as O,a as j,u as s,o as r,c as p,i as t,m as g,t as i,l as m,h as b,d as h,p as I,j as D,e as x,T as S,f as w,k as P}from"./index.7dbf11ab.js";import{T as M}from"./index.02745042.js";import{G as v,S as T}from"./market.4437a618.js";import"./request.869d566e.js";const l=d=>(I("data-v-53f3be7c"),d=d(),D(),d),L={key:0,class:"marketDetail"},q={class:"marketDetail_top"},B=["src"],C={key:0,class:"head-icon"},H=l(()=>t("span",{class:"number"},"\u7F16\u53F7",-1)),G={class:"justifyCenter"},N={class:"marketDetail_title",style:{"font-weight":"600"}},z={class:"marketDetail_price"},R=l(()=>t("div",{class:"views"},null,-1)),V={class:"user-info"},$={class:"user-item"},A=l(()=>t("span",null,"\u6301\u6709\u5730\u5740",-1)),E=l(()=>t("div",{class:"views"},null,-1)),F={class:"user-item",style:{"padding-top":"20px"}},J=l(()=>t("span",null,"\u4EA4\u6613Hash",-1)),K=l(()=>t("div",{class:"views"},null,-1)),Q={class:"marketDetail_intro"},U=l(()=>t("div",{class:"marketDetail_title",style:{"margin-left":"20px"}},"\u5546\u54C1\u8BE6\u60C5",-1)),W=["innerHTML"],X={class:"marketDetail_bottom"},Y={class:"btn-text"},Z={class:"btn-text"},tt={setup(d){const f=x(),c=S(),e=O({detailObj:null,isLoading:!1});j(()=>{u()});const u=async()=>{try{if(c.query.type=="GetMarketMemberProductInfo"){let o={id:c.query.id,action:c.query.type};const a=await v(o);if(e.isLoading=!1,a.code!=0)return!1;e.detailObj=a.data}else{let o={ProductId:c.query.id,action:c.query.type};const a=await v(o);if(e.isLoading=!1,a.code!=0)return!1;e.detailObj=a.data}}catch{e.isLoading=!1}},y=async()=>{try{let o={action:"SubmitOrder",MemberProductId:e.detailObj.Id};const a=await T(o);if(a.code!=0)return M(a.message),u(),!1;let{Id:n,OrderId:_}=a.data;f.push(`/payment?id=${n}&order=${_}`)}catch(o){console.log(o)}};return(o,a)=>{const n=w("van-button"),_=P("lazy");return s(e).detailObj?(r(),p("div",L,[t("div",q,[g(t("img",{src:s(e).detailObj.ProductImage},null,8,B),[[_,s(e).detailObj.ProductImage]])]),s(e).detailObj.TokenId?(r(),p("div",C,[H,t("div",null,[t("span",null,i(s(e).detailObj.TokenId),1)])])):m("",!0),t("div",G,[t("div",N,i(s(e).detailObj.ProductName),1),t("div",z,"\xA5 "+i(s(e).detailObj.SalePrice),1)]),R,t("div",V,[t("p",$,[A,t("span",null,i(s(e).detailObj.Address||"-"),1)]),E,t("p",F,[J,t("span",null,i(s(e).detailObj.Hash||"-"),1)])]),K,t("div",Q,[U,t("div",{class:"text",innerHTML:s(e).detailObj.Description},null,8,W)]),t("div",X,[s(e).detailObj.Status==3?(r(),b(n,{key:0,onClick:y,class:"buy-btn",block:""},{default:h(()=>[t("span",Y," \xA5 "+i(s(e).detailObj.SalePrice)+" \xA0\xA0\xA0\xA0\u7ACB\u5373\u8D2D\u4E70",1)]),_:1})):(r(),b(n,{key:1,class:"gray-btn",block:"",disabled:""},{default:h(()=>[t("span",Z,i(s(e).detailObj.StatusText),1)]),_:1}))])])):m("",!0)}}};var it=k(tt,[["__scopeId","data-v-53f3be7c"]]);export{it as default};
